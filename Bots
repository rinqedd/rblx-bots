if not game:IsLoaded() then game.Loaded:Wait() end

local OwnerNames = {"rinqed","headshot56yt","bigmanwithforehead3"}

local Players = game.Players
local Player = Players.LocalPlayer

local VirtualUser = game:GetService("VirtualUser")
Player.Idled:connect(function()
   VirtualUser:Button2Down(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
   wait(1)
   VirtualUser:Button2Up(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
end)

if not table.find(OwnerNames,Player.Name) then
    game.RunService:Set3dRenderingEnabled(false)
    
    function Chat(Text)
        game.ReplicatedStorage.DefaultChatSystemChatEvents.SayMessageRequest:FireServer(Text,"All")
    end
    
    local Character = Player.Character
    Player.CharacterAdded:Connect(function(Char)
        Character = Char
    end)
    
    local BotOrder = {"rinq_Bot","rinq_Bot0","rinq_Bot1","rinq_Bot2","rinq_Bot3","rinq_Bot4","rinq_Bot5","rinq_Bot6","rinq_Bot8","rinq_Bot9"}
    local Commands = {}
    local BannedCmd = {"kick","addowner","clearowner","rejoin"}
    local OwnerConns = {}
    local Conns = {}
    local Spam = false
    
    function Root(Char)
        return Char.HumanoidRootPart or Char.Torso
    end
    
    function GetPlayer(Name)
        local Plr
        Name = Name:lower()
        
    	for i,v in pairs(Players:GetPlayers()) do
    		if v.Name:lower():match("^"..Name) then
    			Plr = v
    			break
    		end
    	end
    
    	return Plr
    end
    
    function AddCmd(Cmd,Function)
        Commands[Cmd] = Function
    end
    
    function RunCmd(Cmd,Args,Speaker)
	    if Cmd == "bring" or Cmd == "line" or Cmd == "sort" then
            Commands[Cmd](Speaker)
        else
            Commands[Cmd](unpack(Args))
        end
    end
    
    function OnChat(Message,Speaker)
        local Args = string.split(Message," ")
        local Cmd = Args[1]
        table.remove(Args,1)
        
        if Commands[Cmd] then
            RunCmd(Cmd,Args,Speaker)
        end
    end
    
    function OnChat2(Message,Speaker)
        local Args = string.split(Message," ")
        local Cmd = Args[1]
        table.remove(Args,1)
        
        if Commands[Cmd] and not table.find(BannedCmd,Cmd) then
            RunCmd(Cmd,Args,Speaker)
        end
    end
    
    for _,v in pairs(OwnerNames) do
        if Players:FindFirstChild(v) then
            Players[v].Chatted:Connect(function(Message)
                OnChat(Message,v)
            end)
        end
    end
    
    AddCmd("tp",function(Vic)
        Vic = GetPlayer(Vic).Character
        Character.Humanoid.Jump = true
        Root(Character).CFrame = Root(Vic).CFrame
    end)
    
    AddCmd("follow",function(Vic)
        Vic = GetPlayer(Vic).Character
        
        if Conns["Follow"] then Conns["Follow"]:Disconnect() end
        Conns["Follow"] = game.RunService.RenderStepped:Connect(function()
            Root(Character).CFrame = Root(Vic).CFrame * CFrame.new(0,0,3)
        end)
    end)
    
    AddCmd("unfollow",function()
        Conns["Follow"]:Disconnect()
    end)
    
    AddCmd("bring",function(Speaker)
        local Vic = GetPlayer(Speaker).Character
        Root(Character).CFrame = Root(Vic).CFrame
    end)
    
    AddCmd("reset",function()
        Character.Humanoid.Health = 0
    end)
    
    AddCmd("kick",function()
        Player:Kick("Forcefully disconnected by owner.")
    end)
    
    AddCmd("chat",function(...)
        local Args = {...}
        local Text = ""
        for _,v in pairs(Args) do
            Text = Text.." "..v
        end
        Chat(Text)
    end)

    AddCmd("walkto",function(Vic)
        Vic = GetPlayer(Vic).Character
        Character.Humanoid.WalkToPoint = Root(Vic).Position
    end)
    
    AddCmd("jump",function()
        Character.Humanoid.Jump = true
    end)
    
    AddCmd("sit",function()
        Character.Humanoid.Sit = true
    end)
    
    AddCmd("walkspeed",function(Speed)
        Character.Humanoid.WalkSpeed = Speed
    end)
    
    AddCmd("jumppower",function(Power)
        Character.Humanoid.JumpPower = Power
    end)
    
    AddCmd("hipheight",function(Height)
        Character.Humanoid.HipHeight = Height
    end)
    
    AddCmd("spam",function(...)
        local Args = {...}
        local Text = ""
        for _,v in pairs(Args) do
            Text = Text.." "..v
        end
        Spam = true
        while Spam and wait(1) do
            Chat(Text)
        end
    end)
    
    AddCmd("unspam",function()
        Spam = false
    end)
    
    AddCmd("rick",function()
        local Text = "Never gonna give you up, never gonna let you down. Never gonna run around, desert you. Never gonna make you cry, never gonna say goodbye."
        Chat(Text)
    end)
    
    AddCmd("rejoin",function()
        syn.queue_on_teleport([[loadstring(game:HttpGet("https://github.com/rinqedd/rblx/blob/main/scripts/Bots"))()]])
        if #Players:GetPlayers() <= 1 then
            game.TeleportService:Teleport(game.PlaceId,Player)
        else
            game.TeleportService:TeleportToPlaceInstance(game.PlaceId,game.JobId,Player)
        end
    end)
    
    AddCmd("sort",function(Speaker)
        local Vic = GetPlayer(Speaker).Character
        local Position = Vector3.new((table.find(BotOrder,Player.Name))*3,0,0)
        Root(Character).CFrame = Root(Vic).CFrame * CFrame.new(Position)
    end)
    
    AddCmd("line",function(Speaker)
        local Vic = GetPlayer(Speaker).Character
        local Position = Vector3.new(0,0,(table.find(BotOrder,Player.Name))*3)
        Root(Character).CFrame = Root(Vic).CFrame * CFrame.new(Position)
    end)
    
    AddCmd("orbit",function(Vic,Speaker,Speed,Radius,Width)
        Vic = Root(GetPlayer(Vic).Character)
            
        if not Speed then Speed = 8 end
        if not Radius then Radius = 8 end
        if not Width then Width = 1 end
        local Rotation = CFrame.Angles(0,0,0)
        local sin, cos = math.sin, math.cos
        local RotSpeed = math.pi*2/Speed
        Width = Width * Radius
        
        wait(table.find(BotOrder,Player.Name))
        
        local Rot = 0
        
        if Conns["Orbit"] then Conns["Orbit"]:Disconnect() end
        Conns["Orbit"] = game.RunService.Stepped:connect(function(t, dt)
            Rot = Rot + dt / RotSpeed
            Root(Character).CFrame = Rotation * CFrame.new(sin(Rot)*Width, 0, cos(Rot)*Radius) * CFrame.new(Vic.Position)
        end)
    end)
    
    AddCmd("unorbit",function()
        Conns["Orbit"]:Disconnect()
    end)
    
    AddCmd("tempowner",function(Plr)
        local User = GetPlayer(Plr)
        local Conn = User.Chatted:Connect(function(Message)
            OnChat2(Message,User.Name)
        end)
        table.insert(OwnerConns,Conn)
        Chat("Added temporary owner "..User.Name)
    end)
    
    AddCmd("cleartempowner",function()
        for i,Conn in pairs(OwnerConns) do
            Conn:Disconnect()
            table.remove(OwnerConns,i)
        end
        Chat("Removed all temporary owners")
    end)
    
    AddCmd("cmds",function()
        local Cmds = ""
        for Cmd,_ in pairs(Commands) do
            if Cmds == "" then
                Cmds = Cmds..Cmd
            else
                Cmds = Cmds.." | "..Cmd
            end
        end
        Chat(Cmds)
    end)
end
